{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { authService } from '../../auth/authService';\nimport './Dashboard.css';\nvar Dashboard = function Dashboard() {\n  var navigate = useNavigate();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  useEffect(function () {\n    var loadUserInfo = function loadUserInfo() {\n      try {\n        // Obtener información del usuario desde autenticación básica\n        var account = authService.getBasicAccount();\n        if (account) {\n          setUserInfo({\n            name: account.username,\n            email: account.username,\n            provider: 'Basic Auth'\n          });\n        } else {\n          navigate('/login');\n        }\n      } catch (error) {\n        console.error('Error cargando información del usuario:', error);\n        navigate('/login');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadUserInfo();\n  }, [navigate]);\n  var handleLogout = function handleLogout() {\n    try {\n      // Logout básico\n      authService.logoutBasic();\n      navigate('/login');\n    } catch (error) {\n      console.error('Error en logout:', error);\n      // Limpiar autenticación básica de todos modos\n      authService.logoutBasic();\n      // Forzar navegación al login\n      navigate('/login');\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-loading\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading-spinner\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"Cargando informaci\\xF3n...\"));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-container\"\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"dashboard-header\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-header-content\"\n  }, /*#__PURE__*/React.createElement(\"h1\", null, \"MDM Enrollment\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"logout-btn\",\n    onClick: handleLogout\n  }, \"Cerrar sesi\\xF3n\"))), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"dashboard-main\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome-section\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null, \"\\xA1Bienvenido!\"), userInfo && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-info\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-avatar\"\n  }, userInfo.name.charAt(0).toUpperCase()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-details\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-name\"\n  }, userInfo.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-email\"\n  }, userInfo.email), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-provider\"\n  }, \"Autenticado con: \", /*#__PURE__*/React.createElement(\"span\", null, userInfo.provider))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-content\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-section\"\n  }, /*#__PURE__*/React.createElement(\"h3\", null, \"Estado de Enrollment\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"status-badge success\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"status-icon\"\n  }, \"\\u2713\"), /*#__PURE__*/React.createElement(\"span\", null, \"Autenticaci\\xF3n exitosa\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"info-text\"\n  }, \"Tu dispositivo est\\xE1 listo para continuar con el proceso de enrollment en MDM.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-section\"\n  }, /*#__PURE__*/React.createElement(\"h3\", null, \"Informaci\\xF3n de la Sesi\\xF3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"session-info\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-item\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info-label\"\n  }, \"M\\xE9todo de autenticaci\\xF3n:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info-value\"\n  }, userInfo === null || userInfo === void 0 ? void 0 : userInfo.provider)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-item\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info-label\"\n  }, \"WebView detectado:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info-value\"\n  }, authService.isWindowsWebView() ? 'Sí (Windows)' : 'No')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-item\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info-label\"\n  }, \"Hora de inicio de sesi\\xF3n:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info-value\"\n  }, new Date().toLocaleString('es-ES')))))))));\n};\nexport default Dashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}